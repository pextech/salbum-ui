(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(11),s=a.n(c),r=a(6),o=(a(41),a(42),a(1)),i=function(){return Object(o.jsx)("div",{className:"navbar",children:Object(o.jsx)("h1",{children:"Salbum App"})})},u=a(7),l=a.n(u),m=a(9),b=a(2),d=a(8),j=a.n(d),p=a(3),h=(a(12),a(4)),O=a.n(h);h.SkeletonTheme;var x=function(){return Object(o.jsx)("section",{className:"bg-gray-100 p-6",children:Object(o.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(o.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(o.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:Object(o.jsx)(O.a,{height:30,width:200})}),Object(o.jsxs)("form",{className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(o.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(o.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:Object(o.jsx)(O.a,{height:30,width:150})})}),Object(o.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200})]})]})]})})})};h.SkeletonTheme;var g=function(){return Object(o.jsx)("section",{className:"bg-gray-100 p-6",children:Object(o.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(o.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(o.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:Object(o.jsx)(O.a,{height:30,width:200})}),Object(o.jsxs)("form",{className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(o.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(o.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:Object(o.jsx)(O.a,{height:30,width:150})})}),Object(o.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200}),Object(o.jsx)(O.a,{height:40,width:200})]})]})]})})})};var f=function(e){var t=e.token,a=e.id,c=e.albumName,s=Object(n.useState)(!1),r=Object(b.a)(s,2),i=r[0],u=r[1],d=Object(n.useState)([]),h=Object(b.a)(d,2),O=h[0],x=h[1],g=Object(n.useState)(""),f=Object(b.a)(g,2),v=f[0],y=f[1];Object(n.useEffect)((function(){p.b.success("songs for ".concat(c," Album"),{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var e=setTimeout((function(){}),3e3);return function(){return clearTimeout(e)}}),[]);var N=function(){var e=Object(m.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.create({baseURL:"https://salbum-api.herokuapp.com/albums",timeout:5e3,headers:{Authorization:t,"Content-Type":"application/json"}}).post("https://salbum-api.herokuapp.com/albums/".concat(a,"/songs"),{name:n},{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return p.b.success("added ".concat(e.data.song.name," in ").concat(c," Album"),{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),x(O.concat(e.data.song)),e})).catch((function(){p.b.error("some problems occured",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j.a.create({baseURL:"https://salbum-api.herokuapp.com/albums",timeout:1e4,headers:{Authorization:t,"Content-Type":"application/json"}}).get("https://salbum-api.herokuapp.com/albums/".concat(a,"/songs/"),{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){var t=Object.entries(e.data)[2][1];return x(t),e})).catch((function(){p.b.error("some problems occured",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}))}),[]);var S=Object.entries(O);return Object(o.jsxs)("div",{children:[!0===i&&Object(o.jsx)(w,{}),!0!==i&&""!==t&&null!==t&&Object(o.jsxs)(o.Fragment,{children:[O.length>0?Object(o.jsx)("div",{className:"book-list",children:Object(o.jsx)("ul",{children:S.map((function(e){return Object(o.jsx)("li",{className:"flex flex-row justify-between",children:Object(o.jsx)("div",{className:"title",children:e[1].name})},e[1].id)}))})}):Object(o.jsxs)("div",{className:"empty",children:["No Songs available in"," "," ".concat(c)," ","album :)."]}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v&&(y(""),N(v))},children:[Object(o.jsx)("input",{type:"text",name:"album",placeholder:"Song Name",value:v,onChange:function(e){return y(e.target.value)},className:"bg-white focus:bg-white border-white shadow-lg ",required:!0}),Object(o.jsx)("input",{type:"submit",value:"add Song"})]}),Object(o.jsx)("button",{onClick:function(){u(!0)},className:"w-full sm:w-full border-primary-100 bg-primary-100 rounded content-center center shadow-md h-10 text-white",children:"Logout"})]}),Object(o.jsx)(p.a,{})]})};var v=function(e){var t=e.token,a=(Object(r.c)((function(e){return e})),Object(r.b)(),Object(n.useState)(!1)),c=Object(b.a)(a,2),s=c[0],i=c[1],u=Object(n.useState)(""),d=Object(b.a)(u,2),h=(d[0],d[1]),O=Object(n.useState)(!1),x=Object(b.a)(O,2),g=(x[0],x[1]),v=Object(n.useState)([]),y=Object(b.a)(v,2),N=y[0],S=y[1],C=Object(n.useState)(""),k=Object(b.a)(C,2),T=k[0],E=k[1],A=Object(n.useState)([]),R=Object(b.a)(A,2),L=(R[0],R[1],Object(n.useState)("")),B=Object(b.a)(L,2),P=B[0],H=B[1],U=Object(n.useState)(""),D=Object(b.a)(U,2),z=(D[0],D[1],Object(n.useState)(!1)),I=Object(b.a)(z,2),_=I[0],F=I[1],Y=Object(n.useState)(0),M=Object(b.a)(Y,2),W=M[0],q=M[1],G=Object(n.useState)(!1),J=Object(b.a)(G,2),V=(J[0],J[1]),K=Object(n.useState)(!1),Q=Object(b.a)(K,2),X=(Q[0],Q[1]),Z=function(){var e=Object(m.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.create({baseURL:"https://salbum-api.herokuapp.com/albums",timeout:5e3,headers:{Authorization:t,"Content-Type":"application/json"}}).post("https://salbum-api.herokuapp.com/albums",{name:a},{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return p.b.success("added ".concat(e.data.album.name," successfully"),{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),S(N.concat(e.data.album)),h(e.data.message),g(!1),V(!0),e})).catch((function(){p.b.success("some problems occurred",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),g(!0),V(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){j.a.create({baseURL:"https://salbum-api.herokuapp.com/albums",timeout:1e4,headers:{Authorization:t,"Content-Type":"application/json"}}).get("https://salbum-api.herokuapp.com/albums/",{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){p.b.success("your albums",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});var t=e.data.userAlbums[0].albums;return h(e.data.message),g(!1),V(!0),S(t),e})).catch((function(){g(!0),V(!1)}))}),[]);var $=Object.entries(N);return Object(o.jsxs)("div",{children:[!0===s&&Object(o.jsx)(w,{}),!0!==s&&!0===_&&Object(o.jsx)(f,{id:W,token:t,albumName:T}),!0!==s&&!1===_&&""!==t&&null!==t&&Object(o.jsxs)(o.Fragment,{children:[N.length>0?Object(o.jsx)("div",{className:"book-list",children:Object(o.jsx)("ul",{children:$.map((function(e){return Object(o.jsxs)("li",{className:"flex flex-row justify-between",children:[Object(o.jsx)("div",{className:"title",onClick:function(){F(!0),q(e[1].id),E(e[1].name)},children:e[1].name}),Object(o.jsx)("ul",{children:Object(o.jsx)("div",{onClick:function(){j.a.create({baseURL:"https://salbum-api.herokuapp.com/albums",timeout:5e3,headers:{Authorization:t,"Content-Type":"application/json"}}).delete("https://salbum-api.herokuapp.com/albums/".concat(e[1].id),{headers:{authorization:t,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){p.b.success("deleted Album",{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),N.length<=1&&S([]);var t=N?N.filter((function(e){return e.id!==N[1].id})):[];return S(t),h(e.data.message),g(!1),V(!0),e})).catch((function(){g(!0),V(!1)}))},className:"w-6 h-6 text-sm text-white bg-primary-200 shadow-md justify-center pl-2 hover:bg-red-500",children:"x"})})]},e[1].id)}))})}):Object(o.jsx)("div",{className:"empty",children:"No Albums available for you:)."}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),X(!0),P&&(H(""),Z(P))},children:[Object(o.jsx)("input",{type:"text",name:"album",placeholder:"Album Name",value:P,onChange:function(e){return H(e.target.value)},className:"bg-white focus:bg-white border-white shadow-lg ",required:!0}),Object(o.jsx)("input",{type:"submit",value:"add Album"})]}),Object(o.jsx)("button",{onClick:function(){i(!0)},className:"w-full sm:w-full border-primary-100 bg-primary-100 rounded content-center center shadow-md h-10 text-white",children:"Logout"})]}),Object(o.jsx)(p.a,{})]})},w=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),u=Object(b.a)(i,2),d=u[0],h=u[1],O=Object(n.useState)(!1),x=Object(b.a)(O,2),f=x[0],w=x[1],N=Object(n.useState)(!1),S=Object(b.a)(N,2),C=S[0],k=S[1],T=Object(n.useState)(""),E=Object(b.a)(T,2),A=E[0],R=E[1],L=Object(n.useState)(""),B=Object(b.a)(L,2),P=(B[0],B[1]),H=Object(n.useState)(!1),U=Object(b.a)(H,2),D=U[0],z=U[1],I=(Object(r.c)((function(e){return e})),Object(n.useState)(!1)),_=Object(b.a)(I,2),F=(_[0],_[1]),Y=Object(n.useState)(!1),M=Object(b.a)(Y,2),W=(M[0],M[1]),q=(Object(r.b)(),Object(n.useState)(!1)),G=Object(b.a)(q,2),J=G[0],V=G[1];Object(n.useEffect)((function(){V(!0);var e=setTimeout((function(){V(!1)}),2e3);return function(){return clearTimeout(e)}}),[]);var K=j.a.create({baseURL:"https://salbum-api.herokuapp.com/",timeout:5e3,headers:{Authorization:A,"Content-Type":"application/json"}}),Q=function(){var e=Object(m.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K.post("https://salbum-api.herokuapp.com/login",{email:t,password:a}).then((function(e){return R(e.data.token),P(e.data.message),z(!1),k(!0),localStorage.setItem("token",A),e})).catch((function(){p.b.error("Email is not recognised",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),z(!0),F(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[J&&!1===D&&Object(o.jsx)(g,{}),!J&&!f&&!C&&""===A&&Object(o.jsxs)("section",{className:"bg-gray-100 p-6",children:[Object(o.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(o.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(o.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:"LOGIN"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),W(!0),c&&(p.b.info("Email is being Verified",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),Q(c,d))},className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(o.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(o.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:"Account created - Log in"})}),Object(o.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[Object(o.jsx)("input",{type:"email",name:"email",placeholder:"Your email",value:c,onChange:function(e){s(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(o.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:d,onChange:function(e){h(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(o.jsx)("button",{type:"submit",value:"Submit",name:"submit",className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"Login"}),Object(o.jsx)("h6",{className:"text-primary-100 text-xs mb-2",children:"or"}),Object(o.jsx)("button",{onClick:function(e){w(!0)},className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"SignUp"})]})]})]})}),Object(o.jsx)(p.a,{})]}),!0===f&&Object(o.jsx)(y,{}),C&&Object(o.jsx)(v,{token:A})]})},y=function(e){var t=Object(n.useState)(""),a=Object(b.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(""),u=Object(b.a)(i,2),d=u[0],h=u[1],O=Object(n.useState)(""),g=Object(b.a)(O,2),f=g[0],v=g[1],y=Object(n.useState)(!1),N=Object(b.a)(y,2),S=N[0],C=N[1],k=Object(n.useState)(""),T=Object(b.a)(k,2),E=(T[0],T[1]),A=Object(n.useState)(""),R=Object(b.a)(A,2),L=R[0],B=R[1],P=Object(n.useState)(!1),H=Object(b.a)(P,2),U=H[0],D=H[1],z=Object(n.useState)(!1),I=Object(b.a)(z,2),_=(I[0],I[1],Object(r.c)((function(e){return e})),Object(n.useState)(!1)),F=Object(b.a)(_,2),Y=F[0],M=F[1],W=Object(n.useState)(!1),q=Object(b.a)(W,2),G=q[0],J=q[1],V=(Object(r.b)(),Object(n.useState)(!1)),K=Object(b.a)(V,2),Q=K[0],X=K[1];Object(n.useEffect)((function(){X(!0);var e=setTimeout((function(){X(!1)}),2e3);return function(){return clearTimeout(e)}}),[]);var Z=function(){var e=Object(m.a)(l.a.mark((function e(t,a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.length<6&&p.b.error("minimum password lenth is 6 digits",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),j.a.post("https://salbum-api.herokuapp.com/signUp",{fullnames:t,email:a,password:n}).then((function(e){return Object(p.b)("Created account, now login",{position:"top-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),E(e.data.token),B(e.data.message),D(!1),M(!0),e})).catch((function(){D(!0),M(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Q&&Object(o.jsx)(x,{}),!Q&&!Y&&!S&&Object(o.jsxs)("section",{className:"bg-gray-100 p-6",children:[Object(o.jsx)("div",{className:"bg-white rounded-2xl items-center content-center shadow-md p-6 sm:p-2",children:Object(o.jsxs)("div",{className:"items-center md:m-6 md:p-6 xs:m-2 xs:p-2",children:[Object(o.jsx)("h3",{className:"text-primary-100 text-2xl content-center text-center mt-5",children:"Sign-Up"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),J(!0),c&&Z(d,c,f)},className:"content-center m-3 p-3 md:m-0.5 flex justify-center h-auto flex-col ",children:[Object(o.jsx)("div",{className:"text-md content-center text-center m-2",children:Object(o.jsx)("h2",{className:"text-gray-700 xs:text-xs",children:"Enter your Info"})}),Object(o.jsxs)("div",{className:"m-3 p-3 flex flex-col justify-center items-center",children:[c&&f&&!0===G&&!0!==U&&L&&Object(o.jsx)("h6",{className:"text-primary-100 text-xs mb-2",children:L}),Object(o.jsx)("input",{type:"text",name:"names",placeholder:"Your name",value:d,onChange:function(e){h(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(o.jsx)("input",{type:"email",name:"email",placeholder:"Your email",value:c,onChange:function(e){s(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(o.jsx)("input",{type:"password",name:"password",placeholder:"Your password",value:f,onChange:function(e){v(e.target.value)},className:"w-1/2 sm:w-full border-primary-100 rounded content-center p-4 m-4 center shadow-md h-10 text-primary-100"}),Object(o.jsx)("button",{type:"submit",value:"Submit",name:"submit",className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"Sign-up"}),Object(o.jsx)("h6",{className:"text-primary-100 text-xs mb-2",children:"or"}),Object(o.jsx)("button",{onClick:function(e){C(!0)},className:"w-full sm:w-full border-primary-100 bg-primary-100 m-4 rounded content-center center shadow-md h-10 text-white",children:"Login"})]})]})]})}),Object(o.jsx)(p.a,{})]}),!0===Y&&Object(o.jsx)(w,{}),!0===S&&Object(o.jsx)(w,{})]})};var N=function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(i,{}),Object(o.jsx)(y,{})]})},S=a(10),C=a(29),k=a(30),T="INCREMENT",E="DECREMENT",A="SUBTRACT",R="STORE_RESULT",L="DELETE_RESULT",B="RESET_PASSWORD",P="RESET_FAIL",H="RESET_SUCESS",U="CHANGE_PASSWORD",D={counter:0},z={results:[]},I={email:"",token:null,error:null,loading:!1,message:null},_={password:""},F=a(17),Y=function(e,t){return Object(F.a)(Object(F.a)({},e),t)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Y(e,{counter:e.counter+1});case E:return Y(e,{counter:e.counter-1});case"ADD":return Y(e,{counter:e.counter+t.val});case A:return Y(e,{counter:e.counter-t.val});default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Y(e,{results:e.results.concat({id:new Date,value:t.result})});case L:return Y(e,{results:e.results.filter((function(e){return e.id!==t.resultElementId}))});default:return e}},q=function(e,t){return Y(e,{email:t.email,error:t.error,loading:t.loading,token:t.token,message:t.message})},G=function(e,t){return Y(e,{token:t.token,email:t.email,error:null,loading:!1,message:t.message})},J=function(e,t){return Y(e,{error:t.error,loading:!1})},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return q(e,t);case H:return G(e,t);case P:return J(e,t);default:return e}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Y(e,{password:t.password});default:return e}},Q=Object(S.combineReducers)({ctr:M,res:W,reset:V,change:K}),X=k.composeWithDevTools||S.compose,Z=Object(S.createStore)(Q,X(Object(S.applyMiddleware)((function(){return function(e){return function(t){return e(t)}}}),C.a)));s.a.render(Object(o.jsx)(r.a,{store:Z,children:Object(o.jsx)(N,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.b07f3c5a.chunk.js.map